{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "border": false,
        "container|align": "stretch",
        "designer|userAlias": "inputproducts",
        "designer|userClassName": "InputProducts",
        "height": 599,
        "icon": null,
        "iconCls": "",
        "keyMapConfig": [
            "{\r",
            "    bindings: [\r",
            "        {\r",
            "            ctrl: false,\r",
            "            key: Ext.EventObject.ENTER,\r",
            "            btnItemId: 'bntSearch'\r",
            "        },\r",
            "        {\r",
            "            ctrl: false,\r",
            "            key: Ext.EventObject.ESC,\r",
            "            btnItemId: 'btnClear'\r",
            "        }\r",
            "    ]\r",
            "}"
        ],
        "layout": "vbox",
        "title": "",
        "width": 746
    },
    "configAlternates": {
        "keyMapConfig": "object"
    },
    "designerId": "deb3417d-1a65-4536-9621-bb82a407571e",
    "customConfigs": [
        {
            "group": "(Custom Properties)",
            "name": "keyMapConfig",
            "type": "string"
        }
    ],
    "cn": [
        {
            "type": "Ext.container.Container",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "stretch",
                "layout": "hbox",
                "layout|flex": null,
                "margin": "10 10 0 10"
            },
            "designerId": "d715a7e1-134f-48f8-b3c1-2a4077d40753",
            "cn": [
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "clearCls": "x-form-clear-trigger",
                        "cls": null,
                        "displayField": "Name",
                        "emptyCls": null,
                        "emptyText": "საქონლის დასახელება",
                        "enableKeyEvents": true,
                        "fieldLabel": null,
                        "itemId": "cmbProducts",
                        "layout|flex": 1,
                        "margin": "0 10 0 0",
                        "minChars": 1,
                        "selectOnFocus": true,
                        "store": "AllProductStore",
                        "storeClassName": "SIS.store.AllProductStore",
                        "triggerCls": "x-form-search-trigger",
                        "typeAhead": true,
                        "valueField": "ID"
                    },
                    "designerId": "3341289d-5a3e-4922-ac5b-4ddf3d89acad",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "storeClassName",
                            "type": "string"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.ComboBox",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "clearCls": "x-form-clear-trigger",
                        "cls": null,
                        "displayField": "Name",
                        "emptyCls": null,
                        "emptyText": "მომწოდებლის დასახელება",
                        "enableKeyEvents": true,
                        "fieldLabel": null,
                        "itemId": "cmbDistributors",
                        "layout|flex": 1,
                        "margin": "0 10 0 0",
                        "minChars": 1,
                        "selectOnFocus": true,
                        "store": "AllDistributorStore",
                        "storeClassName": "SIS.store.AllDistributorStore",
                        "triggerCls": "x-form-search-trigger",
                        "typeAhead": true,
                        "valueField": "ID"
                    },
                    "designerId": "7c05338f-8735-404c-ac35-40b33ca00016",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "storeClassName",
                            "type": "string"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.Trigger",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "clearCls": "x-form-clear-trigger",
                        "cls": null,
                        "editable": false,
                        "emptyCls": null,
                        "emptyText": "თარიღი",
                        "enableKeyEvents": true,
                        "fieldLabel": null,
                        "isTriggerField": true,
                        "itemId": "trgDate",
                        "layout|flex": 1,
                        "margin": null,
                        "maxLength": null,
                        "pickerClassName": "SIS.view.DateRangeSelectorForm",
                        "selectOnFocus": true,
                        "triggerCls": "x-form-date-trigger"
                    },
                    "configAlternates": {
                        "isTriggerField": "boolean"
                    },
                    "designerId": "767d37db-f11e-4dee-9d7d-a94cea64e7de",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "pickerClassName",
                            "type": "string"
                        },
                        {
                            "group": "(Custom Properties)",
                            "name": "isTriggerField",
                            "type": "string"
                        }
                    ],
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onTrgDateAfterRender",
                                "implHandler": [
                                    "var beforeStr = component.beforeValueText || component.emptyText || '';\r",
                                    "var dateToday = new Date();\r",
                                    "var dateRange = Ext.create('SIS.model.DateRangeSelectModel');\r",
                                    "dateRange.set('FromDate', dateToday);\r",
                                    "dateRange.set('ToDate', dateToday);\r",
                                    "\r",
                                    "var obj = {\r",
                                    "    beforeStr: beforeStr,\r",
                                    "    formDate: dateRange.get('FromDate', dateToday),\r",
                                    "    toDate: dateRange.get('ToDate', dateToday)\r",
                                    "};\r",
                                    "\r",
                                    "component.fromDate = dateToday;\r",
                                    "component.toDate = dateToday;\r",
                                    "\r",
                                    "var beforeStr = obj.beforeStr;\r",
                                    "\r",
                                    "if(obj.beforeStr === undefined){\r",
                                    "    beforeStr = component.beforeValueText || component.emptyText || '';\r",
                                    "}\r",
                                    "\r",
                                    "component.setRawValue(beforeStr+': '+DateFormat(dateToday) + ' '+DateFormat(dateToday));\r",
                                    "inputEl = component.inputEl;\r",
                                    "if (inputEl && component.emptyText && !Ext.isEmpty(obj)) {\r",
                                    "    inputEl.removeCls(component.emptyCls);\r",
                                    "    component.valueContainsPlaceholder = false;\r",
                                    "}\r",
                                    "\r",
                                    "var form = this;\r",
                                    "\r",
                                    "var grdInputDetails = FindControl(form, 'grdInputDetails');\r",
                                    "\r",
                                    "grdInputDetails.getStore().clearExtraParams();\r",
                                    "grdInputDetails.getStore().removeAll();\r",
                                    "grdInputDetails.getStore().addExtraParams({\r",
                                    "    filter: {\r",
                                    "        Date: component.getValue(),\r",
                                    "        IO: 'miReba'\r",
                                    "    }\r",
                                    "});\r",
                                    "\r",
                                    "grdInputDetails.getStore().loadPage(1);"
                                ],
                                "name": "afterrender",
                                "scope": "me"
                            },
                            "designerId": "597ef9e8-1dec-4b63-8169-91b79ef09d5b"
                        },
                        {
                            "type": "basicfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onTriggerClick",
                                "implHandler": [
                                    "var me = this;\r",
                                    "var beforeStr = this.beforeValueText || this.emptyText || '';\r",
                                    "\r",
                                    "var win = Ext.create(this.pickerClassName, {\r",
                                    "    modal:true,\r",
                                    "    save: function(rangeModel){\r",
                                    "        var obj = {\r",
                                    "            beforeStr: beforeStr,\r",
                                    "            fromDate: rangeModel.get('FromDate'),\r",
                                    "            toDate: rangeModel.get('ToDate')\r",
                                    "        };\r",
                                    "\r",
                                    "        me.setValue(obj);\r",
                                    "\r",
                                    "        return EnumDialogResult.Success;\r",
                                    "    }\r",
                                    "});\r",
                                    "\r",
                                    "win.setData();\r",
                                    "win.show();"
                                ]
                            },
                            "designerId": "4d07f4ab-78ca-4efc-a292-41056aadbe05"
                        },
                        {
                            "type": "basicfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "getValue",
                                "implHandler": [
                                    "var obj = !(this.fromDate && this.toDate) ? null : {\r",
                                    "    FromDate: this.fromDate,\r",
                                    "    ToDate: this.toDate\r",
                                    "};\r",
                                    "\r",
                                    "return obj;"
                                ]
                            },
                            "designerId": "df7f5ea0-7b4a-41a8-938a-8741610410a7"
                        },
                        {
                            "type": "basicfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "obj"
                                ],
                                "fn": "setValue",
                                "implHandler": [
                                    "if(!IsNullOrEmpty(obj)){\r",
                                    "    var from = obj.fromDate;\r",
                                    "    var to = obj.toDate;\r",
                                    "\r",
                                    "    this.fromDate = from;\r",
                                    "    this.toDate = to;\r",
                                    "\r",
                                    "    var beforeStr = obj.beforeStr;\r",
                                    "\r",
                                    "    if(obj.beforeStr === undefined){\r",
                                    "        beforeStr = this.beforeValueText || this.emptyText || '';\r",
                                    "    }\r",
                                    "\r",
                                    "    this.setRawValue(beforeStr+': '+DateFormat(from) + ' '+DateFormat(to));\r",
                                    "    inputEl = this.inputEl;\r",
                                    "    if (inputEl && this.emptyText && !Ext.isEmpty(obj)) {\r",
                                    "        inputEl.removeCls(this.emptyCls);\r",
                                    "        this.valueContainsPlaceholder = false;\r",
                                    "    }\r",
                                    "}"
                                ]
                            },
                            "designerId": "2a8a589a-427d-4928-924b-4df64f4eae6b"
                        },
                        {
                            "type": "basicfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "reset",
                                "implHandler": [
                                    "this.fromDate = null;\r",
                                    "this.toDate = null;\r",
                                    "\r",
                                    "this.setRawValue('');"
                                ]
                            },
                            "designerId": "5fe3daa6-32c1-47b7-89fa-f60db62a8188"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "icon-search",
                        "itemId": "bntSearch",
                        "layout|flex": null,
                        "margin": "0 10 0 15",
                        "text": "",
                        "tooltip": [
                            "ძებნა"
                        ]
                    },
                    "designerId": "8daed67b-c08f-4ba3-9bf8-be8a7bcbf310",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onBntSearchClick",
                                "implHandler": [
                                    "var form = button.up('inputproducts');\r",
                                    "\r",
                                    "var grdInputDetails = FindControl(form, 'grdInputDetails');\r",
                                    "var cmbProducts = FindControl(form, 'cmbProducts');\r",
                                    "var cmbDistributors = FindControl(form, 'cmbDistributors');\r",
                                    "var trgDate = FindControl(form, 'trgDate');\r",
                                    "\r",
                                    "grdInputDetails.getStore().clearExtraParams();\r",
                                    "grdInputDetails.getStore().removeAll();\r",
                                    "grdInputDetails.getStore().addExtraParams({\r",
                                    "    filter: {\r",
                                    "        ProductID: cmbProducts.getValue() || null,\r",
                                    "        DistributorID: cmbDistributors.getValue() || null,\r",
                                    "        Date: trgDate.getValue() || null,\r",
                                    "        IO: \"miReba\"\r",
                                    "    }\r",
                                    "});\r",
                                    "\r",
                                    "grdInputDetails.getStore().loadPage(1);"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "designerId": "f21e3675-8d7f-4274-9929-a577d41a36aa"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "hidden": null,
                        "iconCls": "icon-clear",
                        "itemId": "btnClear",
                        "layout|flex": null,
                        "margin": null,
                        "text": "",
                        "tooltip": [
                            "გასუფთავება"
                        ]
                    },
                    "designerId": "2443df82-2462-4dc3-918f-3cd058ce3009",
                    "cn": [
                        {
                            "type": "basiceventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onBtnClearClick",
                                "implHandler": [
                                    "var form = button.up('inputproducts');\r",
                                    "\r",
                                    "var grdInputDetails = FindControl(form, 'grdInputDetails');\r",
                                    "var cmbProducts = FindControl(form, 'cmbProducts');\r",
                                    "var cmbDistributors = FindControl(form, 'cmbDistributors');\r",
                                    "var trgDate = FindControl(form, 'trgDate');\r",
                                    "\r",
                                    "cmbProducts.reset();\r",
                                    "cmbDistributors.reset();\r",
                                    "trgDate.reset();\r",
                                    "\r",
                                    "grdInputDetails.getStore().clearExtraParams();\r",
                                    "grdInputDetails.getStore().removeAll();"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "designerId": "33685746-e21e-491b-9ad2-a87ff472b014"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.grid.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "itemId": "grdInputDetails",
                "layout|flex": 1,
                "margin": "10 10 10 10",
                "normalViewConfig": null,
                "store": "AllDetailStore",
                "storeClassName": "SIS.store.AllDetailStore",
                "title": ""
            },
            "designerId": "8da5b4b3-9fa9-4385-8f3e-14d77866478d",
            "customConfigs": [
                {
                    "group": "(Custom Properties)",
                    "name": "storeClassName",
                    "type": "string"
                }
            ],
            "cn": [
                {
                    "type": "Ext.grid.View",
                    "reference": {
                        "name": "viewConfig",
                        "type": "object"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "stripeRows": false
                    },
                    "designerId": "779f90ab-c221-4200-9218-671f9663c1b0",
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "record",
                                    "rowIndex",
                                    "rowParams",
                                    "store"
                                ],
                                "fn": "getRowClass",
                                "implHandler": [
                                    "return 'other-row';"
                                ]
                            },
                            "designerId": "bad8b68c-0d68-4af7-acf5-7593211354e2"
                        }
                    ]
                },
                {
                    "type": "Ext.toolbar.Paging",
                    "reference": {
                        "name": "dockedItems",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "afterPageText": "{0}-დან",
                        "beforePageText": "გვერდი",
                        "displayInfo": true,
                        "displayMsg": "ნაჩვენებია {0} - {1} სულ  {2}",
                        "dock": "bottom",
                        "emptyMsg": "მონაცემები არ არის",
                        "firstText": "პირველი გვერდი",
                        "lastText": "ბოლო გვერდი",
                        "nextText": "შემდეგი გვერდი",
                        "prevText": "წინა გვერდი",
                        "refreshText": "განახლება",
                        "store": "AllDetailStore",
                        "storeClassName": "SIS.store.AllDetailStore",
                        "width": 360
                    },
                    "designerId": "88c7e2ec-de5d-4a7a-a49d-10c594a2c704",
                    "customConfigs": [
                        {
                            "group": "(Custom Properties)",
                            "name": "storeClassName",
                            "type": "string"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "ProductName",
                        "flex": 1,
                        "text": "დასახელება"
                    },
                    "designerId": "dfedeff1-56a3-41f4-ac18-545ebbfa7568"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "InputAmount",
                        "flex": 1,
                        "text": "მიღებული რაოდენობა"
                    },
                    "designerId": "0acea8ad-e444-42f9-aa79-fd2b5985303e"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "SizeUnitName",
                        "flex": 1,
                        "text": "ზომის ერთეული"
                    },
                    "designerId": "a4eea1a5-a529-46a1-ab4b-f3d80997549c"
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "InputPrice",
                        "flex": 1,
                        "text": "ასაღები ფასი",
                        "width": null
                    },
                    "designerId": "c6d33f8a-09bc-4d28-ac49-b37f61052b15",
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "return record.get('InputPrice') + ' ლარი';"
                                ]
                            },
                            "designerId": "680c7057-ef4a-48c2-9608-3ae9e5358a58"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "InputPrice",
                        "flex": 1,
                        "hidden": null,
                        "text": "ღირებულება"
                    },
                    "designerId": "766b9880-e663-428c-93dd-667cc61176fd",
                    "cn": [
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "return record.get('InputPrice') * record.get('InputAmount') + ' ლარი';"
                                ]
                            },
                            "designerId": "068c26e6-c9df-4f74-bcb4-939d8f4b16da"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "DistributorName",
                        "flex": 1,
                        "text": "მომწოდებელი"
                    },
                    "designerId": "c1f5ab4a-2b02-4fa4-878c-4942894d446f"
                },
                {
                    "type": "Ext.grid.column.Date",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "Date",
                        "flex": 1,
                        "format": "d.m.Y",
                        "text": "თარიღი"
                    },
                    "designerId": "1fda6dfa-ae07-46aa-97c4-b0f273a39734"
                }
            ]
        }
    ]
}