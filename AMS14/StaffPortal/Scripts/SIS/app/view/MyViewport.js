/*
 * File: app/view/MyViewport.js
 *
 * This file was generated by Sencha Architect version 3.0.1.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Ext JS 4.2.x library, under independent license.
 * License of Sencha Architect does not include license for Ext JS 4.2.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('SIS.view.MyViewport', {
    extend: 'Ext.container.Viewport',

    requires: [
        'SIS.view.MyTreePanel',
        'Ext.tree.Panel',
        'Ext.tab.Panel',
        'Ext.tab.Tab'
    ],

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            layout: {
                type: 'hbox',
                align: 'stretch'
            },
            items: [
                {
                    xtype: 'panel',
                    flex: 1,
                    border: false,
                    layout: 'border',
                    header: false,
                    title: 'Main',
                    items: [
                        {
                            xtype: 'panel',
                            region: 'north',
                            border: false,
                            header: false,
                            title: 'Header',
                            layout: {
                                type: 'vbox',
                                align: 'stretch'
                            },
                            items: [
                                {
                                    xtype: 'panel',
                                    border: false,
                                    height: 100,
                                    html: '<div style="width:100%; height:100px; background-color:#3c3c3c;margin-bottom:0px; min-width: 1024px;">\r\n        <div style=" float: left; width: 50%;">\r\n<img style="float:left; margin-left:10px; margin-right:10px;margin-top:10px; width: 95px; height: 80px;" src="/Content/Resources/150px-GTU_Logo.svg[1].png"/>\r\n            \r\n<p style="font-family:\'Avaza Mtavruli\';font-size:15px; color:white; margin-top:0px;margin-bottom:0px; margin-top: 8px"><br>sasawyobo aRricxvebis</p>\r\n            <p style="font-family:\'Avaza Mtavruli\';font-size:15px; color:white; margin-top:0px;margin-bottom:0px">eleqtronuli</p>\r\n<p style="font-family:\'Avaza Mtavruli\';font-size:15px; color:white; margin-top:0px;margin-bottom:0px">sistema <span style="font-family: \'Sylfaen\'; color: #cccccc;">WMS15</span></p>\r\n        </div>\r\n        <div style="float: right; min-width:300px;">\r\n            <!--CALENDAR-->\r\n            <div style="width: 80px; float: right; margin-top: 5px;">\r\n                <div id="cal" >\r\n                    <table width="80" border="0" class="calendar">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td id="day"></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td height="30" id="number" class="num"></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td id="monthyear" style="padding-bottom: 5px;"></td>\r\n                            </tr>\r\n                            <tr style="display: none">\r\n                                <td id="ctime" style="display: none">&nbsp</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            <div style="text-align: right; color: #ffffff; margin-right: 110px;">\r\n<p style="font-weight: bold; color: #cccccc;" id="department"></p>\r\n<p style="font-style: italic; color: #cccccc;" id="user"></p>\r\n<p><a style="color: red;cursor:pointer;" id=\'lnkLogOut\'><u><img src="/Content/Resources/logout.png" width="20" height="20" title="გასვლა" /></u></a></p>\r\n            </div>\r\n    \r\n        </div>\r\n    </div>',
                                    maxHeight: 100,
                                    minHeight: 100,
                                    header: false,
                                    title: 'My Panel'
                                }
                            ]
                        },
                        {
                            xtype: 'panel',
                            region: 'south',
                            height: 40,
                            html: '<div id="footer_container">\r\n        <div id="footer">\r\n\r\n            <div id="cp">\r\n                \r\n            </div>\r\n\r\n            <div id="aut">\r\n                <div>\r\n                    ყველა უფლება დაცულია &copy 2015 შემქმნელი: ვ.ბერუაშვილი\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <!-- #footer -->\r\n    </div>',
                            title: ''
                        },
                        {
                            xtype: 'panel',
                            flex: 1,
                            region: 'center',
                            border: false,
                            header: false,
                            title: 'My Panel',
                            layout: {
                                type: 'vbox',
                                align: 'stretch'
                            },
                            items: [
                                {
                                    xtype: 'panel',
                                    border: false,
                                    bodyCls: 'side-panel',
                                    collapseDirection: 'right',
                                    collapsible: false
                                },
                                {
                                    xtype: 'panel',
                                    flex: 1,
                                    width: 1280,
                                    collapseDirection: 'right',
                                    collapsible: true,
                                    header: false,
                                    title: 'Placeholder',
                                    layout: {
                                        type: 'hbox',
                                        align: 'stretch'
                                    },
                                    items: [
                                        {
                                            xtype: 'mytreepanel'
                                        },
                                        {
                                            xtype: 'tabpanel',
                                            flex: 1,
                                            itemId: 'maintabpanel',
                                            width: 1280,
                                            header: false,
                                            title: '',
                                            activeTab: 0,
                                            items: [
                                                {
                                                    xtype: 'panel',
                                                    border: false,
                                                    padding: 10,
                                                    iconCls: 'home',
                                                    title: 'მთავარი',
                                                    layout: {
                                                        type: 'vbox',
                                                        align: 'stretch'
                                                    },
                                                    items: [
                                                        {
                                                            xtype: 'container',
                                                            flex: 1,
                                                            layout: {
                                                                type: 'hbox',
                                                                align: 'stretch'
                                                            }
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    xtype: 'panel',
                                    border: false,
                                    bodyCls: 'side-panel',
                                    collapseDirection: 'right',
                                    collapsible: false
                                }
                            ]
                        }
                    ]
                }
            ],
            listeners: {
                afterrender: {
                    fn: me.onViewportAfterRender,
                    scope: me
                }
            }
        });

        me.callParent(arguments);
    },

    onViewportAfterRender: function(component, eOpts) {
        Ext.get('lnkLogOut').on('click', function (e, t, eOpts) {
            var viewport=this;
            var tabpanel=FindControl(viewport,'maintabpanel');
            var safe=LogOutSafe(tabpanel);
        },this);
    }

});